## [REST API](http://localhost:8080/doc)

## Концепция:

- Spring Modulith
    - [Spring Modulith: достигли ли мы зрелости модульности](https://habr.com/ru/post/701984/)
    - [Introducing Spring Modulith](https://spring.io/blog/2022/10/21/introducing-spring-modulith)
    - [Spring Modulith - Reference documentation](https://docs.spring.io/spring-modulith/docs/current-SNAPSHOT/reference/html/)

```
  url: jdbc:postgresql://localhost:5432/jira
  username: jira
  password: JiraRush
```

- Есть 2 общие таблицы, на которых не fk
    - _Reference_ - справочник. Связь делаем по _code_ (по id нельзя, тк id привязано к окружению-конкретной базе)
    - _UserBelong_ - привязка юзеров с типом (owner, lead, ...) к объекту (таска, проект, спринт, ...). FK вручную будем
      проверять

## Аналоги

- https://java-source.net/open-source/issue-trackers

## Тестирование

- https://habr.com/ru/articles/259055/

Список выполненных задач:
1. Розібратися зі структурою проєкту (onboarding).
2. Видалити соціальні мережі: vk, yandex.
3. Винести чутливу інформацію до окремого проперті файлу:
- логін
- пароль БД
- ідентифікатори для OAuth реєстрації/авторизації
- налаштування пошти
Значення цих проперті повинні зчитуватися при старті сервера зі змінних оточення машини. Easy task
4. Переробити тести так, щоб під час тестів використовувалася in memory БД (H2), а не PostgreSQL. Для цього потрібно визначити 2 біна, і вибірка якої використовувати повинна визначатися активним профілем Spring. H2 не підтримує всі фічі, які є у PostgreSQL, тому тобі доведеться трохи спростити скрипти з тестовими даними.
5. Написати тести для всіх публічних методів контролера ProfileRestController. Хоча методів лише 2, але тестових методів має бути більше, оскільки необхідно перевірити success and unsuccess path.
6. Зробити рефакторинг методу com.javarush.jira.bugtracking.attachment.FileUtil#upload, щоб він використовував сучасний підхід для роботи з файловою системою. Easy task
7. Додати новий функціонал: додавання тегів до завдання (REST API + реалізація на сервісі). Фронт робити необов'язково. Таблиця task_tag вже створена.
8. Додати підрахунок часу: скільки завдання перебувало у роботі та тестуванні. Написати 2 методи на рівні сервісу, які параметром приймають завдання та повертають витрачений час:
   - Скільки завдання перебувало в роботі (ready_for_review мінус in_progress).
   - Скільки завдання перебувало на тестуванні (done мінус ready_for_review).
   
   Для написання цього завдання, потрібно додати в кінець скрипту ініціалізації бази даних changelog.sql 3 записи до таблиці ACTIVITY
   
   insert into ACTIVITY ( ID, AUTHOR_ID, TASK_ID, UPDATED, STATUS_CODE ) values ...

   Зі статусами:
   - час початку роботи над завданням — in_progress
   - час закінчення розробки — ready_for_review
   - час закінчення тестування — done
9. Написати Dockerfile для основного сервера.
10. Написати docker-compose файл для запуску контейнера сервера разом з БД та nginx. Для nginx використовуй конфіг-файл config/nginx.conf. За потреби файл конфіга можна редагувати.
